(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[867],{5867:(t,e,r)=>{"use strict";r.r(e),r.d(e,{UserModule:()=>P});var a=r(8583),n=r(3679),o=r(5987),i=r(7716),s=r(8002),c=r(1466);let l=(()=>{class t{constructor(t){this.angularFirestore=t,this.currentUserId=localStorage.getItem("currentUserId")||""}addUserData(t){return this.angularFirestore.collection(this.currentUserId).add(t).then(t=>({data:{id:t.id},success:!0})).catch(t=>t)}updateUserData(t,e){return this.angularFirestore.collection(this.currentUserId).doc(t).ref.update(e).then(t=>({data:t,success:!0})).catch(t=>t)}getUserData(){return this.angularFirestore.collection(this.currentUserId).snapshotChanges().pipe((0,s.U)(t=>t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))))}retrive(t){return this.angularFirestore.collection(this.currentUserId).doc(t).ref.get().then(t=>t.exists?{data:[t.data()],success:!0}:{data:{message:"No Data yet...",success:!1}}).catch(t=>t)}deleteUserData(t){return console.log(t),this.angularFirestore.collection(this.currentUserId).doc(t).ref.delete().then(t=>(console.log(t),{data:[t],success:!0})).catch(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c.ST))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=r(7001),d=r(3738),p=r(8295),g=r(9983),m=r(1095);function h(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1," Key is required "),i.qZA())}function Z(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1," Value is required "),i.qZA())}let f=(()=>{class t{constructor(t,e,r,a,o){this.fb=t,this.userService=e,this._snackBar=r,this.router=a,this.aRoute=o,this.submitted=!1,this.page_title="Details",this.addUserForm=this.fb.group({keyUser:["",n.kI.required],valueUser:["",n.kI.required]})}ngOnInit(){if(-1!==this.router.url.indexOf("edit")){this.page_title="Edit Details";const t=this.aRoute.snapshot.paramMap.get("editKey");this.retriveData(t)}else this.page_title="Add Details"}retriveData(t){this.userService.retrive(t).then(t=>{this.addUserForm.patchValue({keyUser:t.data[0].key,valueUser:t.data[0].value})}).catch(t=>{this._snackBar.open(t.message,"Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}cancel(){this.router.navigateByUrl("/pages/user/lists")}submitUser(){if(this.submitted=!0,this.addUserForm.invalid)return;let t={key:this.addUserForm.value.keyUser,value:this.addUserForm.value.valueUser};-1!==this.router.url.indexOf("edit")?this.editUser(this.aRoute.snapshot.paramMap.get("editKey"),t):this.addUser(t)}editUser(t,e){this.userService.updateUserData(t,e).then(t=>{this._snackBar.open("Updated in Successfully","Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"}),this.router.navigate(["/pages/user/lists"])}).catch(t=>{this._snackBar.open(t.message,"Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}addUser(t){this.userService.addUserData(t).then(t=>{this._snackBar.open("Added in Successfully","Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"}),this.router.navigate(["/pages/user/lists"])}).catch(t=>{this._snackBar.open(t.message,"Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(n.qu),i.Y36(l),i.Y36(u.ux),i.Y36(o.F0),i.Y36(o.gz))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-user-details-add"]],decls:19,vars:4,consts:[[1,"user-content"],[3,"formGroup"],[1,"full-width-input"],["matInput","","type","textbox","placeholder","Name","formControlName","keyUser","required",""],[4,"ngIf"],["matInput","","type","text","placeholder","Value","formControlName","valueUser","required",""],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"mat-card"),i.TgZ(2,"mat-card-header"),i.TgZ(3,"mat-card-title"),i._uU(4),i.qZA(),i.qZA(),i.TgZ(5,"mat-card-content"),i.TgZ(6,"form",1),i.TgZ(7,"mat-form-field",2),i._UZ(8,"input",3),i.YNc(9,h,2,0,"mat-error",4),i.qZA(),i.TgZ(10,"mat-form-field",2),i._UZ(11,"input",5),i.YNc(12,Z,2,0,"mat-error",4),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"mat-card-footer"),i.TgZ(14,"mat-card-actions"),i.TgZ(15,"button",6),i.NdJ("click",function(){return e.cancel()}),i._uU(16,"Cancel"),i.qZA(),i.TgZ(17,"button",7),i.NdJ("click",function(){return e.submitUser()}),i._uU(18,"Submit"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Oqu(e.page_title),i.xp6(2),i.Q6J("formGroup",e.addUserForm),i.xp6(3),i.Q6J("ngIf",null==e.addUserForm.controls.keyUser.errors?null:e.addUserForm.controls.keyUser.errors.required),i.xp6(3),i.Q6J("ngIf",null==e.addUserForm.controls.valueUser.errors?null:e.addUserForm.controls.valueUser.errors.required))},directives:[d.a8,d.dk,d.n5,d.dn,n._Y,n.JL,n.sg,p.KE,g.Nt,n.Fj,n.JJ,n.u,n.Q7,a.O5,d.rt,d.hq,m.lW,p.TO],styles:[".user-container[_ngcontent-%COMP%]{margin:20px}mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}.mat-card-title[_ngcontent-%COMP%]{color:#c2185b}  .mat-snack-bar-container{background-color:#000!important}  .mat-snack-bar-container .mat-simple-snackbar{color:#fff!important}  .mat-snack-bar-container .mat-simple-snackbar-action{color:#c2185b!important}.spinner[_ngcontent-%COMP%]{place-items:center}"]}),t})();var U=r(5643),q=r(1552);function x(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-card",2),i.TgZ(1,"mat-card-header"),i.TgZ(2,"mat-card-title"),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"mat-card-content",3),i.TgZ(5,"div"),i.TgZ(6,"span"),i._uU(7,"User : "),i.qZA(),i.TgZ(8,"span"),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div"),i.TgZ(11,"span"),i._uU(12,"User id : "),i.qZA(),i.TgZ(13,"span"),i._uU(14),i.qZA(),i.qZA(),i.TgZ(15,"div"),i.TgZ(16,"button",4),i.NdJ("click",function(){return i.CHM(t),i.oxw().logout()}),i.TgZ(17,"mat-icon"),i._uU(18,"logout"),i.qZA(),i._uU(19," Logout "),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(3),i.hij(" ",t.title," "),i.xp6(6),i.Oqu(t.authService.currentUserName),i.xp6(5),i.Oqu(t.authService.currentUserId)}}let T=(()=>{class t{constructor(t){this.authService=t,this.title="User Info"}ngOnInit(){}logout(){this.authService.userLogout()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(U.e))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-user-info"]],decls:2,vars:1,consts:[[1,"Userinfo-container"],["class","Userinfo-card",4,"ngIf"],[1,"Userinfo-card"],[1,"Userinfo-card-content"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,x,20,3,"mat-card",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",e.authService.currentUser))},directives:[a.O5,d.a8,d.dk,d.n5,d.dn,m.lW,q.Hw],styles:[".Userinfo-container[_ngcontent-%COMP%]{margin:20px}.Userinfo-card[_ngcontent-%COMP%]{position:absolute;top:85px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.Userinfo-card-content[_ngcontent-%COMP%]{text-align:center}"]}),t})();var v=r(2238);let k=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e,this.message="Are you sure?",this.confirmButtonText="Yes",this.cancelButtonText="Cancel",t&&(this.message=t.message||this.message,t.buttonText&&(this.confirmButtonText=t.buttonText.ok||this.confirmButtonText,this.cancelButtonText=t.buttonText.cancel||this.cancelButtonText))}ngOnInit(){}onConfirmClick(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(v.WI),i.Y36(v.so))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-confirmation-dialog"]],decls:8,vars:3,consts:[["align","center"],["mat-raised-button","","color","primary","tabindex","1",3,"click"],["mat-raised-button","","mat-dialog-close","","tabindex","-1"]],template:function(t,e){1&t&&(i.TgZ(0,"mat-dialog-content"),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA(),i.TgZ(3,"mat-dialog-actions",0),i.TgZ(4,"button",1),i.NdJ("click",function(){return e.onConfirmClick()}),i._uU(5),i.qZA(),i.TgZ(6,"button",2),i._uU(7),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.hij(" ",e.message," "),i.xp6(3),i.Oqu(e.confirmButtonText),i.xp6(2),i.Oqu(e.cancelButtonText))},directives:[v.xY,v.H8,m.lW,v.ZT],styles:[""]}),t})();var b=r(4929);function A(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-card-footer"),i.TgZ(1,"button",8),i._uU(2,"Edit"),i.qZA(),i.TgZ(3,"button",9),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().confirmDialog(e.id)}),i._uU(4,"Delete"),i.qZA(),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("routerLink","/pages/user/edit/"+t.id)}}function _(t,e){if(1&t&&(i.TgZ(0,"mat-grid-tile",4),i.TgZ(1,"mat-card",5),i.TgZ(2,"mat-card-header"),i.TgZ(3,"mat-card-title"),i._uU(4,"User Details"),i.qZA(),i.qZA(),i.TgZ(5,"mat-card-content",6),i.TgZ(6,"ul"),i.TgZ(7,"li"),i.TgZ(8,"span"),i._uU(9," name : "),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA(),i.qZA(),i.TgZ(12,"li"),i.TgZ(13,"span"),i._uU(14," value : "),i.qZA(),i.TgZ(15,"span"),i._uU(16),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(17,A,5,1,"mat-card-footer",7),i.qZA(),i.qZA()),2&t){const t=e.$implicit,r=i.oxw();i.Q6J("colspan",1)("rowspan",4),i.xp6(11),i.hij(" ",t.key," "),i.xp6(5),i.hij(" ",t.value," "),i.xp6(1),i.Q6J("ngIf",r.check(t.name))}}const y=[{path:"lists",component:(()=>{class t{constructor(t,e,r,a){this.userService=t,this._snackBar=e,this.router=r,this.dialog=a,this.listUserDetails()}ngOnInit(){}listUserDetails(){this.userService.getUserData().subscribe(t=>{console.log(t),t.length>0?this.userLists=t:this._snackBar.open("Add data to list the user details","Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}check(t){return"email"!=t}confirmDialog(t){this.dialog.open(k,{data:{message:"Are you sure want to delete?",buttonText:{ok:"Yes",cancel:"No"}}}).afterClosed().subscribe(e=>{e&&this.delete(t)})}delete(t){this.userService.deleteUserData(t).then(t=>{console.log(t),this._snackBar.open("Deleted Successfully","Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})}).catch(t=>{this._snackBar.open(t.message,"Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(l),i.Y36(u.ux),i.Y36(o.F0),i.Y36(v.uw))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-user-list"]],decls:5,vars:1,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","4","rowHeight","60px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"lists-card"],[1,"lists-card-content"],[4,"ngIf"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"h1",1),i._uU(2," Details "),i.qZA(),i.TgZ(3,"mat-grid-list",2),i.YNc(4,_,18,5,"mat-grid-tile",3),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Q6J("ngForOf",e.userLists))},directives:[b.Il,a.sg,b.DX,d.a8,d.dk,d.n5,d.dn,a.O5,d.rt,m.lW,o.rH],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}mat-card[_ngcontent-%COMP%]{margin:2em auto;text-align:center}.lists-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.lists-card-content[_ngcontent-%COMP%]{text-align:center}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}button[_ngcontent-%COMP%]{margin:5px}  .mat-snack-bar-container{background-color:#000!important}  .mat-snack-bar-container .mat-simple-snackbar{color:#fff!important}  .mat-snack-bar-container .mat-simple-snackbar-action{color:#c2185b!important}"]}),t})()},{path:"add",component:f},{path:"edit/:editKey",component:f},{path:"info",component:T}];let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forChild(y)],o.Bz]}),t})();var O=r(3468);let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[U.e],imports:[[a.ez,C,n.u5,n.UX,O.m]]}),t})()}}]);